
지난 글에서 엔티티 매니저와 영속성 컨텍스트에 대해 설명했다. 
이번에는 이어서 영속성 컨텍스트에서 관리되는 프록시 객체와 객체 그래프 탐색시에 발생할 수 있는 N + 1 문제에 대해 이야기해보겠다.


### 프록시 객체

프록시 객체는 실제 엔티티를 대체하는 가짜(proxy) 객체이다. 이 객체는 **실제 엔티티에 대한 참조**를 가지고 있으며, **실제 엔티티 클래스의 서브클래스** 이다. 또한 


## 1. 실제 엔티티에 대한 참조를 가지고 있다.

우리가 프록시 객체를 사용하는 이유는 무엇인가? 객체를 생성할때가 아닌 **필요한 시점에 실제 엔티티의 데이터에 접근하기** 위함이다. 예를 들어 엔티티의 수 많은 필드 중에 



N+1 문제는 하나의 쿼리를 통해 데이터를 조회할 때 추가적으로 N개의 쿼리가 실행되는 비효율적인 데이터 조회 문제를 의미한다.

직접 쿼리문을 작성한다면 발생하지 않을 문제이지만, ORM을 통해 객체 그래프 탐색을 진행한다면 N + 1 문제가 발생할 수 있다.

다른 수 많은 글에서 볼 수 있듯이, N + 1 문제는 @OneToMany 일때 많이 발생하며 Lazy Loading을 토해 어느정도 해결 할 수 있다.